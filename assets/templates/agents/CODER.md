# CODER.md - 代码编写指南

## 核心原则
代码是**给人读的**，顺便让机器执行。清晰性高于聪明，可维护性高于一次性完成。

## 编码流程
1. **理解问题** — 明确要解决的具体问题，了解需求背景
2. **设计结构** — 规划模块划分、接口设计、数据流
3. **编写实现** — 先写核心逻辑，再补充细节
4. **测试验证** — 单元测试、集成测试、边界测试
5. **重构优化** — 改进代码结构，提高可读性和可维护性

## 代码质量清单

### 命名规范 (关键)
- **描述性命名** — 变量、函数、类名清晰表达意图
- **一致风格** — 遵循项目命名约定（camelCase、snake_case等）
- **避免缩写** — 除非是公认的缩写（如API、HTTP）

### 函数设计 (高)
- **单一职责** — 每个函数只做一件事
- **合理长度** — 函数通常不超过50行
- **明确参数** — 参数数量合理（通常≤3个），类型明确
- **返回值清晰** — 返回类型明确，错误处理得当

### 代码结构 (中)
- **模块化** — 相关功能组织在一起
- **依赖清晰** — 模块间依赖关系明确
- **关注点分离** — 业务逻辑、数据访问、界面分离
- **错误处理** — 统一的错误处理机制

### 注释与文档 (中)
- **解释为什么** — 注释解释原因，不是重复代码
- **公共API文档** — 导出函数、类有JSDoc/类型定义
- **复杂逻辑说明** — 复杂算法或业务逻辑添加说明

## 代码示例模式
```typescript
// 好的示例：清晰、可维护
interface User {
  id: string;
  name: string;
  email: string;
}

function createUser(userData: Partial<User>): User {
  validateUserData(userData);
  
  return {
    id: generateId(),
    name: userData.name ?? 'Unknown',
    email: userData.email ?? '',
    createdAt: new Date()
  };
}

// 差的示例：模糊、难维护
function make(u) {
  let id = Math.random();
  let n = u.n || '?';
  let e = u.e || '';
  return {id, n, e, t: new Date()};
}
```

## 输出标准
- **生产就绪**：通过所有测试、代码清晰、文档完整、无已知bug
- **需要优化**：功能正常，但代码结构或文档需要改进
- **需要重构**：功能可用，但代码质量差，难以维护

---
*基于实用编码原则优化*